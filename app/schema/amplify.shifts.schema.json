{
    "$schema": "http://json-schema.org/draft-04/schema#",
    "title": "Amplify Shift Schema Validation",
    "description": "Validates a JSON object is compatible with the schema specified at https://api.galaxydigital.com/docs/#/Need/needAddShifts",
    "type": "object",
    "patternProperties": {
        "^\\d{6}$": {
            "description": "The unique need six-digit need ID for the specified shift.",
            "type": "object",
            "uniqueItems": true,
            "minItems": 1,
            "properties": {
                "^shifts$": {
                    "description": "Array of individual shift objects for a need ID.",
                    "type": "array",
                    "uniqueItems": true,
                    "minItems": 1,
                    "items": {
                        "properties": {
                            "start": {
                                "description": "Date and 24 hour time in the format YYYY-MM-DD HH:MM",
                                "type": "string",
                                "pattern": "^20[2-9]\\d-(0[1-9]|1[1-2])-(0[1-9]|[12]\\d|3[01]) (0[0-9]|1[0-9]|2[0-3]):[0-5][0-9]$",
                                "minLength": 1
                            },
                            "duration": {
                                "description": "Shift duration in minutes.",
                                "type": "string",
                                "pattern": "^\\d{1,4}$",
                                "minLength": 1
                            },
                            "slots": {
                                "description": "Number of slots available",
                                "type": "string",
                                "pattern": "\\d{1,3}$",
                                "minLength": 1
                            }
                        },
                        "required": [
                            "start",
                            "duration",
                            "slots"
                        ]
                    }
                }
            },
            "minProperties": 1,
            "required": [
                "shifts"
            ]
        }
    },
    "additionalProperties": false,
    "minProperties": 1
}